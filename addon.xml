<addon id="plugin.video.filteredmovies"
       name="Filtered Movies"
       version="1.0.8.1"
       provider-name="forbxy">

    <requires>
        <import addon="xbmc.python" version="3.0.0" />
    </requires>

    <!-- 真正的插件入口定义 -->
    <extension point="xbmc.python.pluginsource" library="default.py">
        <provides>video</provides>
    </extension>

    <!-- 注册 default.py 为脚本模块，以便 RunScript 调用 -->
    <extension point="xbmc.python.script" library="default.py">
        <provides>executable</provides>
    </extension>

    <!-- 注册后台服务，用于自动跳过片头 -->
    <extension point="xbmc.service" library="service.py" />

    <!-- 上下文菜单项 -->
    <extension point="kodi.context.item">
        <menu id="kodi.core.main">
            <item library="default_context_menu_hook.py">
                <label>设置全局背景</label>
                <visible>!String.IsEmpty(ListItem.Art(fanart))</visible>
            </item>
        </menu>
    </extension>

    <!-- 元数据 -->
    <extension point="xbmc.addon.metadata">
        <summary>Movies list with UI filters</summary>
        <description>Provide filtered movie list to custom skin view</description>
        <platform>all</platform>
        <assets>
            <icon>icon.png</icon>
            <fanart>resources/filter.jpg</fanart>
            <screenshot>resources/filter.jpg</screenshot>
        </assets>
    </extension>

</addon>
